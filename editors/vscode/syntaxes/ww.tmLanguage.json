{
  "scopeName": "source.ww",
  "name": "Weltenwanderer",
  "patterns": [
    { "include": "#comment" },
    { "include": "#description" },
    { "include": "#string" },
    { "include": "#number" },
    { "include": "#entity-declaration" },
    { "include": "#relationship-keyword" },
    { "include": "#property-keyword" },
    { "include": "#kind-keyword" },
    { "include": "#list" }
  ],
  "repository": {
    "comment": {
      "match": "--.*$",
      "name": "comment.line.double-dash.ww"
    },
    "description": {
      "begin": "\"\"\"",
      "end": "\"\"\"",
      "name": "string.quoted.triple.ww"
    },
    "string": {
      "begin": "\"",
      "end": "\"",
      "name": "string.quoted.double.ww"
    },
    "number": {
      "match": "-?[0-9][0-9_]*",
      "name": "constant.numeric.ww"
    },
    "entity-declaration": {
      "match": "^\\s*(\\S.*?)\\s+(is\\s+(?:a|an)\\s+)(\\w+)",
      "captures": {
        "1": { "name": "entity.name.ww" },
        "2": { "name": "keyword.control.is.ww" },
        "3": { "name": "support.type.kind.ww" }
      }
    },
    "relationship-keyword": {
      "match": "\\b(member of|located at|allied with|rival of|owned by|led by|based at|involving|references|caused by|north to|south to|east to|west to|up to|down to|in)\\b",
      "name": "keyword.operator.relationship.ww"
    },
    "property-keyword": {
      "match": "^\\s*(species|occupation|status|traits|climate|population|terrain|type|rarity|source|values|alignment|genre|setting|date|year|month|day|outcome)\\b",
      "name": "variable.parameter.property.ww"
    },
    "kind-keyword": {
      "match": "\\b(world|location|character|faction|event|item|lore|fortress|city|region|room|wilderness)\\b",
      "name": "support.type.kind.ww"
    },
    "list": {
      "begin": "\\[",
      "end": "\\]",
      "name": "meta.list.ww",
      "patterns": [
        { "include": "#string" },
        { "include": "#number" },
        {
          "match": "[^,\\[\\]\\s]+(?:\\s+[^,\\[\\]\\s]+)*",
          "name": "variable.other.reference.ww"
        }
      ]
    }
  }
}
